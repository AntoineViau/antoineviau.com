<style>
    @media print
    {
    	project h3 {
    		font-size: 1.25rem !important;
    	}
    }
</style>


<?php
$json = file_get_contents(__DIR__."/projects.json");
$projects = json_decode($json);
?>


<div class="container ">
	
	<div class="lead text-center g-mb-20">
		Github : <a href="https://github.com/AntoineViau">https://github.com/AntoineViau</a>
	</div>

		<?php
		foreach($projects as $idx => $project) {	
			project($project);
		}
		?>

</div>

<?php

function project($project) 
{
	$base64 = base64_encode(file_get_contents(__DIR__.'/assets/img/projects/'.$project->picture));
	echo <<<EOT
	<div class="project row g-mb-20">		
	  <div class="col-md-6 g-mb-0--lg text-center no-print">
	  	<a href="$project->link">
	    <img class="img-fluid g-pl-70 g-pr-70 no-print" 
	    src="data:image/jpeg;base64, $base64"
	    alt="Antoine Viau, projet $project->title"
	    >
	  </a>
	  </div>

	  <div class="col-lg-6">
	    <div class="">
	      <h2 class="h5 text-uppercase g-font-weight-300 u-heading-v2__title">
	      	<a href="$project->link">$project->title</a>
	      </h2>
	    </div>

	    <p class="g-mb-10">
	    	$project->desc
	    </p>

		<div>
EOT;
			foreach($project->technos as $tidx => $techno) {
				prjTechno($techno);
			}	
	echo <<<EOTT
		
		</div>

	  </div>
	 </div>
EOTT;
}


function prjTechno($techno) 
{
	echo '<a href="#" class="btn btn-sm g-font-weight-600 g-letter-spacing-0_5 text-uppercase g-brd-2 g-rounded-50 g-mr-10 g-mb-15">';
	echo $techno;
	echo '</a>';
}

?>
